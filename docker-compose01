version: "3.8"

services:

  service-mysql-db:
    image: mysql:8.0.31
    container_name: smmmofisdb
    environment:
      MYSQL_DATABASE: 'smmmofisdb'
      #MYSQL_USER: 'root'
      MYSQL_ROOT_PASSWORD: '1234'
    volumes:
      - ./mysql/db:/var/lib/mysql
    ports:
      - '3306:3306'
    networks:
      - smmmofis-network

  services-smmmofis01:
    image: smmmofis01
    build: .
#    environment:
#      SPRING_DATASOURCE_URL: jdbc:mysql://smmmofis01-mysql-db:3306/smmmofisdb
#      SPRING_DATASOURCE_USERNAME: root
#      SPRING_DATASOURCE_PASSWORD: 1234
    ports:
      - '8080:8080'
    depends_on:
      - service-mysql-db
    networks:
      - smmmofis-network
networks:
  smmmofis-network: