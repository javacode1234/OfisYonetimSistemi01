<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head th:replace="~{adminpanel/fragments/head}"></head>
<link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
<style>
        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            background-size: cover;
            background-position: center;
            transition: background-image 1s ease-in-out;
        }
        .login-container {  
        	padding:60px;
            height: 60%;
            width: 500px;
            background: rgba(255, 255, 255, 0.4);
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
		
        
</style>

<body>

  <main>
    <div class="container login-container pt-0">

      <section class="section register min-vh-100 d-flex flex-column align-items-center justify-content-center ">
        <div class="container">
          <div class="row justify-content-center">
            <div class="  d-flex flex-column align-items-center justify-content-center">

              <div class="d-flex justify-content-center py-4">
              	<img class="rounded" th:src="@{niceadminpanel/images/smmm_logo.jpg}" alt="" width="80" height="80">
                <a th:href="@{/}" class="logo d-flex align-items-center w-auto" style="margin-left:20px;">
                  
                  <span class="d-block">SMMM OFiS YÖNETiM SiSTEMi</span>
                </a>
              </div><!-- End Logo -->

              <div class="card mb-3">

								<div class="card-body">

									<div class="alert alert-warning alert-dismissible fade text-danger mb-2 mt-3" th:if="${param.error}"
										 th:classappend="${param.error} ? 'show':''" role="alert">
										<strong>Kullanıcı Adı Yada Şifre Hatalı !!!</strong>
										<button type="button" class="btn-close"
												data-bs-dismiss="alert" aria-label="Close"></button>
									</div>
									
									<div class="alert alert-warning alert-dismissible fade text-danger mb-2 mt-3" th:if="${param.logout}"
										 th:classappend="${param.logout} ? 'show':''" role="alert">
										<strong>Çıkış Yapıldı !!!</strong>
										<button type="button" class="btn-close"
												data-bs-dismiss="alert" aria-label="Close"></button>
									</div>

									<div class="pt-4 pb-2">
										<h5 class="card-title text-center pb-0 fs-4">Giriş yap</h5>
										<p class="text-center small">Kullanıcı adı ve şifreni gir</p>
									</div>
									<div class="wrapper">
									<form class="row g-3 needs-validation login-form" th:action="@{/login}"
										method="post" th:object="${userDto}" novalidate>

										<div class="col-12 input-box">
											<label for="username" class="form-label">Kullanıcı Adı</label>
											<div class="input-group has-validation">
												<input type="text" name="username" class="form-control" id="username" required>
												<div class="invalid-feedback">Kullanıcı adını gir.</div>
											</div>
										</div>

										<div class="col-12 input-box">
											<label for="password" class="form-label">Şifre</label>
											<input type="password" name="password" class="form-control" id="password" required>
											<div class="invalid-feedback">Şifeni gir</div>
										</div>

										<div class="col-12">
											<div class="form-check">
												<input class="form-check-input" type="checkbox"
													name="remember" value="true" id="rememberMe"> <label
													class="form-check-label" for="rememberMe">Beni
													hatırla</label>
											</div>
										</div>
										<div class="col-12">
											<button class="btn btn-primary w-100" type="submit">Giriş</button>
										</div>
										<!--                     <div class="col-12"> -->
										<!--                       <p class="small mb-0">Don't have account? <a href="pages-register.html">Create an account</a></p> -->
										<!--                     </div> -->
									</form>
								</div>
								</div>
							</div>

              

            </div>
          </div>
        </div>

      </section>

    </div>
  </main><!-- End #main -->

  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

<!--  <div th:replace="~{adminpanel/fragments/footer}"></div> -->
 <div th:replace="~{adminpanel/fragments/js}"></div>
 
  <script>
        $(document).ready(function() {
            const images = [
                'url("/loginimages/1.jpg")',
                'url("/loginimages/2.jpg")',
                'url("/loginimages/3.jpg")',
                'url("/loginimages/4.jpg")',
                'url("/loginimages/5.jpg")'
            ];

            const randomImage = images[Math.floor(Math.random() * images.length)];
            $('body').css('background-image', randomImage);

            $('#loginForm').on('submit', function(e) {
                e.preventDefault();
                const username = $('#username').val();
                const password = $('#password').val();

                if (username === '' || password === '') {
                    $('#errorMessage').show();
                } else {
                    $('#errorMessage').hide();
                    alert('Giriş başarılı!');
                    // Burada giriş işlemleri yapılabilir.
                }
            });
        });
    </script>

</body>

</html>